!function(e){function o(e){for(var o=e+"=",t=document.cookie.split(";"),n=0;n<t.length;n++){for(var i=t[n];" "==i.charAt(0);)i=i.substring(1);if(-1!=i.indexOf(o))return i.substring(o.length,i.length)}return 0}function t(){e(".popup_container").fadeOut(function(){e(this).remove()}),e(".popup_layer").fadeOut(function(){e(this).remove()}),e.removeData(document.body,"oc_var")}e.ocpopup=function(n){function i(){g=!1,e(document).bind("mousemove.bindoffset",function(){g&&(e(document).bind("mouseleave",function(e){setTimeout(function(){a(e)},u.delay)}),e(document).unbind("mousemove.bindoffset")),g=!0})}function a(t){var n=document.documentElement?document.documentElement.scrollTop:document.body.scrollTop,a=document.documentElement?document.documentElement.scrollLeft:document.body.scrollLeft;if(n=e(document).scrollTop()>n?e(document).scrollTop():n,a=e(document).scrollLeft()>a?e(document).scrollLeft():a,-1==Math.round(t.pageX)||-1==Math.round(t.pageY)||-3==t.pageX||-3==t.pageY)var l=-b+n,g=d-a;else var l=-t.pageY+n,g=t.pageX-a;var y,x=-s/m*g,w=s/m*g-s;if(y=x>l?w>l?"bottom":"left":w>l?"right":"top",!(/Firefox[\/\s](\d+\.\d+)/.test(navigator.userAgent)&&0>l&&l>-s&&g>0&&m>g)){if(-1!=e.inArray(y,u.trigger)||-1!=e.inArray("all",u.trigger)){var k=(new Date).getTime();if(k-r>=u.mintime&&!(k-r>u.maxtime&&0!=u.maxtime||f>=u.maxamount&&0!=u.maxamount||k-v<u.interval&&0!=u.interval||!p)){var _=o("popup_visit");(0==u.cookie||1==u.cookie&&(_<u.maxamount||0==u.maxamount))&&(u.onleave.call(this,y),""!=u.layer&&c(),f++,1==u.cookie&&(_++,document.cookie="popup_visit="+_+"; path=/"),v=(new Date).getTime())}}h&&(e(document).unbind("mouseleave"),i())}}function c(){1!=e.data(document.body,"oc_var")&&(e.data(document.body,"oc_var",1),e('<div class="popup_layer"></div>').appendTo("body").css(u.backgroundcss).fadeIn(u.fadespeed),e('<div class="popup_container"></div>').appendTo("body"),e(u.layer).clone().show().css(u.boxcss).appendTo(".popup_container"),u.bgclickclose&&e(".popup_layer").click(function(){t()}),u.escclose&&e("body").keyup(function(e){27==e.which&&t()}))}var l={layer:"",fadespeed:400,trigger:["top"],open:0,delay:0,interval:0,mintime:0,maxtime:0,maxamount:0,cookie:!1,bgclickclose:!0,escclose:!0,onleave:function(){},disableleftscroll:!0},u=e.extend({},l,n);e(u.layer).hide();var d,r=(new Date).getTime(),s=e(window).height(),m=e(window).width(),g=!1,f=0,v=0,p=!0,b=0;if(/Chrome/.test(navigator.userAgent)){var h=!0;e(document).width()>m&&1==u.disableleftscroll&&(p=!1)}var y=parseFloat(e(u.layer).css("height")),x=parseFloat(e(u.layer).css("width")),w={backgroundcss:{"z-index":"1000",display:"none"},boxcss:{"z-index":"1000",position:"fixed",left:"50%",top:"50%",height:y+"px",width:x+"px","margin-left":-x/2+"px","margin-top":-y/2+"px"}};e.extend(!0,u,w),setTimeout(function(){if(u.open>0)a(e)},u.open),e(document).bind("mousemove",function(e){d=e.pageX,b=e.pageY}),e(document).bind("mouseleave",function(e){setTimeout(function(){a(e)},u.delay)}),h&&(e(document).unbind("mouseleave"),i()),e(window).resize(function(){s=e(window).height(),m=e(window).width()})},e.ocpopup_close=function(){t()}}(jQuery);