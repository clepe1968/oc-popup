!function(e){function o(e){for(var o=e+"=",t=document.cookie.split(";"),n=0;n<t.length;n++){for(var i=t[n];" "==i.charAt(0);)i=i.substring(1);if(-1!=i.indexOf(o))return i.substring(o.length,i.length)}return 0}function t(){e(".popup_container").fadeOut(function(){e(this).remove()}),e(".popup_layer").fadeOut(function(){e(this).remove()}),e.removeData(document.body,"oc_var")}e.ocpopup=function(n){function i(){f=!1,e(document).bind("mousemove.bindoffset",function(){f&&(e(document).bind("mouseleave",function(e){setTimeout(function(){a(e)},l.delay)}),e(document).unbind("mousemove.bindoffset")),f=!0})}function a(t){var n=document.documentElement?document.documentElement.scrollTop:document.body.scrollTop,a=document.documentElement?document.documentElement.scrollLeft:document.body.scrollLeft;if(n=e(document).scrollTop()>n?e(document).scrollTop():n,a=e(document).scrollLeft()>a?e(document).scrollLeft():a,-1==Math.round(t.pageX)||-1==Math.round(t.pageY)||-3==t.pageX||-3==t.pageY)var d=-b+n,f=u-a;else var d=-t.pageY+n,f=t.pageX-a;var y,w=-r/m*f,x=r/m*f-r;if(y=w>d?x>d?"bottom":"left":x>d?"right":"top",!(/Firefox[\/\s](\d+\.\d+)/.test(navigator.userAgent)&&0>d&&d>-r&&f>0&&m>f)){if(-1!=e.inArray(y,l.trigger)||-1!=e.inArray("all",l.trigger)){var k=(new Date).getTime();if(k-s>=l.mintime&&!(k-s>l.maxtime&&0!=l.maxtime||g>=l.maxamount&&0!=l.maxamount||k-v<l.interval&&0!=l.interval||!p)){var _=o("popup_visit");(0==l.cookie||1==l.cookie&&(_<l.maxamount||0==l.maxamount))&&(l.onleave.call(this,y),""!=l.layer&&c(),g++,1==l.cookie&&(_++,document.cookie="popup_visit="+_+"; path=/"),v=(new Date).getTime())}}h&&(e(document).unbind("mouseleave"),i())}}function c(){1!=e.data(document.body,"oc_var")&&(e.data(document.body,"oc_var",1),e('<div class="popup_layer"></div>').appendTo("body").css(l.backgroundcss).fadeIn(l.fadespeed),e('<div class="popup_container"></div>').prependTo("body"),e(l.layer).clone().css(l.slidecss).appendTo(".popup_container").show().animate({top:"0px"},l.slidespeed),l.bgclickclose&&e(".popup_layer").click(function(){t()}),l.escclose&&e("body").keyup(function(e){27==e.which&&t()}))}var d={slidespeed:300,fadespeed:400,layer:"",trigger:["top"],open:0,delay:0,interval:0,mintime:0,maxtime:0,maxamount:0,cookie:!1,bgclickclose:!0,escclose:!0,onleave:function(){},disableleftscroll:!0},l=e.extend({},d,n);e(l.layer).hide();var u,s=(new Date).getTime(),r=e(window).height(),m=e(window).width(),f=!1,g=0,v=0,p=!0,b=0;if(/Chrome/.test(navigator.userAgent)){var h=!0;e(document).width()>m&&1==l.disableleftscroll&&(p=!1)}var y=parseFloat(e(l.layer).css("height")),w=(parseFloat(e(l.layer).css("width")),{backgroundcss:{"z-index":"1000",display:"none"},slidecss:{"z-index":"1100",position:"fixed",left:"0%",top:-y+"px",height:y+"px",width:"100%"}});e.extend(!0,l,w),setTimeout(function(){if(u.open>0)a(e)},u.open),e(document).bind("mousemove",function(e){u=e.pageX,b=e.pageY}),e(document).bind("mouseleave",function(e){setTimeout(function(){a(e)},l.delay)}),h&&(e(document).unbind("mouseleave"),i()),e(window).resize(function(){r=e(window).height(),m=e(window).width()})},e.ocpopup_close=function(){t()}}(jQuery);